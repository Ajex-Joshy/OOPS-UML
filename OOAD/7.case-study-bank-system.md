# OOAD Case Study – Bank Account System

This case study applies all OOAD concepts to a single real-world system:  
**A Bank Account Management System**.

We will move from **problem → analysis → design → structure**.

---

## 1. Problem Statement

A bank needs a system that allows:

- Customers to manage accounts
- ATM machines to perform transactions
- Admins to control accounts

The system must support:

- Deposits
- Withdrawals
- Balance checks
- Transfers
- Account management

---

## 2. Actors

From Use Case Modeling:

- Customer
- Bank Admin
- ATM
- Payment Gateway

These are all external to the system.

---

## 3. Use Cases

### Customer

- Open Account
- Deposit Money
- Withdraw Money
- Transfer Money
- Check Balance

### Admin

- Approve Account
- Close Account

### ATM

- Request Withdrawal
- Request Balance

---

## 4. Domain Entities

From Domain Modeling:

- Customer
- Account
- Transaction
- Bank
- ATM
- Admin

These are the real-world objects the system deals with.

---

## 5. Core Relationships

- Customer ↔ Account (Association)
- Bank ◇ Account (Aggregation)
- Account ◆ Transaction (Composition)
- SavingsAccount → Account (Inheritance)

---

## 6. Class Design Overview

### Account

- accountNumber
- balance
- status
- deposit()
- withdraw()
- getBalance()

### Customer

- customerId
- name
- openAccount()
- viewAccounts()

### Transaction

- transactionId
- amount
- type
- execute()

### Bank

- bankName
- addAccount()
- removeAccount()

---

## 7. Sequence Example – Withdraw Money

1. Customer requests withdrawal
2. ATM sends request to Bank
3. Bank asks Account to check balance
4. Account approves or rejects
5. Transaction is created
6. Cash is dispensed
7. Balance is updated

This is how objects collaborate.

---

## 8. Applying Design Principles

- SRP → Account only manages money
- OCP → New account types can be added
- DIP → Bank depends on Payment interface
- High Cohesion → Each class has one role
- Low Coupling → Classes communicate through interfaces

---

## 9. Final Architecture Flow

User → ATM → Bank → Account → Transaction

Each layer has a clear responsibility.

---

## 10. Why This Design Works

- Scalable
- Secure
- Maintainable
- Matches real banking logic

---

## 11. Reference Implementation (JavaScript)

The following code shows how the OOAD design translates into real OOP code.

```javascript
class Account {
  constructor(accountNumber, balance = 0) {
    this.accountNumber = accountNumber;
    this.balance = balance;
    this.status = "ACTIVE";
  }

  deposit(amount) {
    this.balance += amount;
    return this.balance;
  }

  withdraw(amount) {
    if (amount > this.balance) {
      throw new Error("Insufficient balance");
    }
    this.balance -= amount;
    return this.balance;
  }

  getBalance() {
    return this.balance;
  }
}

class SavingsAccount extends Account {
  constructor(accountNumber, balance, interestRate) {
    super(accountNumber, balance);
    this.interestRate = interestRate;
  }
}

class Customer {
  constructor(id, name) {
    this.customerId = id;
    this.name = name;
    this.accounts = [];
  }

  openAccount(account) {
    this.accounts.push(account);
  }

  viewAccounts() {
    return this.accounts;
  }
}

class Transaction {
  constructor(type, amount) {
    this.type = type;
    this.amount = amount;
    this.date = new Date();
  }

  execute(account) {
    if (this.type === "DEPOSIT") {
      account.deposit(this.amount);
    } else if (this.type === "WITHDRAW") {
      account.withdraw(this.amount);
    }
  }
}

class Bank {
  constructor(name) {
    this.bankName = name;
    this.accounts = [];
  }

  addAccount(account) {
    this.accounts.push(account);
  }

  removeAccount(accountNumber) {
    this.accounts = this.accounts.filter(
      (a) => a.accountNumber !== accountNumber
    );
  }
}

class ATM {
  requestWithdrawal(account, amount) {
    const txn = new Transaction("WITHDRAW", amount);
    txn.execute(account);
    return account.getBalance();
  }

  requestBalance(account) {
    return account.getBalance();
  }
}

// Example usage
const bank = new Bank("MyBank");
const customer = new Customer(1, "Ajex");
const account = new SavingsAccount("ACC101", 1000, 4);

customer.openAccount(account);
bank.addAccount(account);

const atm = new ATM();
atm.requestWithdrawal(account, 200);
console.log(atm.requestBalance(account));
```
